<%- include('../partials/header') %>

<main class="max-w-5xl mx-auto mt-10 p-6 sm:p-8">
  <section class="bg-white rounded-xl shadow-lg p-6 sm:p-10">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
      <div>
        <h1 class="text-3xl font-bold text-indigo-700"><%= category.name %></h1>
        <% if (category.description) { %>
          <p class="text-gray-600 mt-2"><%= category.description %></p>
        <% } %>
      </div>
      <% if (category.image_url) { %>
        <img src="<%= category.image_url %>" alt="<%= category.name %>" class="w-full sm:w-64 rounded-xl shadow mt-4 sm:mt-0" />
      <% } %>
    </div>

    <hr class="my-6 border-gray-200" />

    <h2 class="text-2xl font-semibold mb-4">🎵 Instruments in this Category</h2>

    <% if (items.length === 0) { %>
      <p class="text-gray-500 italic">No instruments found in this category yet.</p>
    <% } else { %>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <% items.forEach(item => { %>
          <a href="/items/<%= item.id %>" class="block bg-gray-50 border rounded-xl p-4 hover:shadow transition">
            <h3 class="text-lg font-semibold text-indigo-600"><%= item.name %></h3>
            <% if (item.description) { %>
              <p class="text-sm text-gray-600 mt-1"><%= item.description.slice(0, 80) %>...</p>
            <% } %>
          </a>
        <% }) %>
      </div>
    <% } %>
  </section>
</main>

<%- include('../partials/footer') %>
